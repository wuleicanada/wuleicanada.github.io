{"version":3,"sources":["giggin/components/orders.cljs"],"mappings":"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","names":["nicholas.components.orders/orders","p1__27411#","remove-from-orders","cljs.core.swap_BANG_","nicholas.state/orders","cljs.core/dissoc","remove-all-from-orders","cljs.core/reset!","cljs.core/deref","cljs.core/empty?","iter__4523__auto__","s__27413","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__27425","cljs.core/chunk-buffer","i__27424","vec__27433","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__27412","cljs.core/chunk-rest","vec__27439","cljs.core/first","cljs.core/cons","cljs.core/rest","id","quant","cljs.core.get_in","nicholas.state/gigs","nicholas.helpers/format-price","cljs.core.reduce","p__27445","vec__27446","sum","cljs.core/chunk-first"],"sourcesContent":["(ns nicholas.components.orders\r\n  (:require [nicholas.state :as state]\r\n            [nicholas.helpers :refer [format-price]]))\r\n\r\n(defn orders []\r\n  (let [remove-from-orders #(swap! state/orders dissoc %)\r\n        remove-all-from-orders #(reset! state/orders {})]\r\n    [:aside\r\n    (if (empty? @state/orders)\r\n      [:div.empty\r\n        [:div.title \"You don't have any orders.\"]\r\n        [:div.subtitle \"Click on a + to add an order\"]]\r\n      [:div.order\r\n        [:div.body\r\n        (for [[id quant] @state/orders]\r\n          [:div.item {:key id}\r\n            [:div.img\r\n            [:img {:src (get-in @state/gigs [id :img])\r\n                    :alt (get-in @state/gigs [id :title])}]]\r\n            [:div.content\r\n            [:p.title (str (get-in @state/gigs [id :title]) \" \\u00D7 \" quant)]]\r\n            [:div.action\r\n            [:div.price (format-price (* (get-in @state/gigs [id :price]) quant))]\r\n            [:button.btn.btn--link.tooltip\r\n              {:data-tooltip \"Remove\"\r\n              :on-click #(remove-from-orders id)}\r\n              [:i.icon.icon--cross]]]])]\r\n        [:div.total\r\n        [:hr]\r\n        [:div.item\r\n          [:div.content \"Total\"]\r\n          [:div.action\r\n          [:div.price (format-price (reduce (fn [sum [id quant]] (+ sum (* quant (get-in @state/gigs [id :price])))) 0 @state/orders))]]\r\n          [:button.btn.btn--link.tooltip\r\n          {:data-tip \"Remove all\"\r\n            :on-click remove-all-from-orders}\r\n          [:i.icon.icon--delete]]]]])]))\r\n"]}